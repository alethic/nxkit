<f:form xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:f="http://www.isillc.com/XML/forms/Layout-1.0"
        xmlns:xf="http://www.w3.org/2002/xforms"
        xmlns:ev="http://www.w3.org/2001/xml-events">
    <xf:model id="data">
        
        <xf:instance id="misc">
            <data xmlns="">
                <secondary>false</secondary>
                <secondary_enabled />
            </data>
        </xf:instance>
        <xf:bind nodeset="xf:instance('misc')/secondary"
                 type="xsd:boolean" />
        <xf:bind nodeset="xf:instance('misc')/secondary_enabled"
                 relevant="xf:instance('misc')/secondary='true'"/>
        
        <xf:instance id="primaryperson"
                     src="primaryperson.xml" />
        <xf:bind nodeset="xf:instance('primaryperson')/heightfeet"
                 required="true()"
                 type="xsd:int"/>
        <xf:bind nodeset="xf:instance('primaryperson')/heightinches"
                 required="true()"
                 type="xsd:int"/>
        <xf:bind nodeset="xf:instance('primaryperson')/weight"
                 required="true()"
                 type="xsd:int"/>
        <xf:bind nodeset="xf:instance('primaryperson')/dateofbirth"
                 type="xsd:date"/>
                 
        <xf:instance id="secondaryperson"
                     src="secondaryperson.xml" />
        <xf:bind nodeset="xf:instance('secondaryperson')"
                 relevant="xf:instance('misc')/secondary='true'"/>
        <xf:bind nodeset="xf:instance('secondaryperson')/heightfeet"
                 required="true()"
                 type="xsd:int"/>
        <xf:bind nodeset="xf:instance('secondaryperson')/heightinches"
                 required="true()"
                 type="xsd:int"/>
        <xf:bind nodeset="xf:instance('secondaryperson')/weight"
                 required="true()"
                 type="xsd:int"/>
        <xf:bind nodeset="xf:instance('secondaryperson')/dateofbirth"
                 type="xsd:date"/>
                 
        <xf:instance id="primaryelections"
                     src="primaryelections.xml" />
        
        <xf:instance id="secondaryelections"
                     src="secondaryelections.xml" />
        
        <xf:instance id="primaryquestions"
                     src="questions.xml" />
        <xf:bind nodeset="xf:instance('primaryquestions')//healthinfo"
                 relevant="../answer='true' and ./@enable='true'" />
        
        <xf:instance id="secondaryquestions"
                     src="questions.xml" />
        <xf:bind nodeset="xf:instance('secondaryquestions')"
                 relevant="xf:instance('misc')/secondary='true'"/>
        <xf:bind nodeset="xf:instance('secondaryquestions')//healthinfo"
                 relevant="../answer='true' and ./@enable='true'" />
                     
        <xf:instance id="relationships"
                     src="relationships.xml" />
                     
        <xf:instance id="beneficiaries"
                     src="beneficiaries.xml" />
        <xf:bind nodeset="xf:instance('beneficiaries')//percentage"
                 type="xsd:integer" />
                       
        <xf:submission ref="xf:instance('primaryperson')"
                       method="put"
                       action="primaryperson.xml" />
        <xf:submission ref="xf:instance('secondaryperson')"
                       method="put"
                       action="secondaryperson.xml" />
        <xf:submission ref="xf:instance('primaryelections')"
                       method="put"
                       action="primaryelections.xml" />
        <xf:submission ref="xf:instance('secondaryelections')"
                       method="put"
                       action="secondaryelections.xml" />
        <xf:submission ref="xf:instance('primaryquestions')"
                       method="put"
                       action="primaryquestions.xml" />
        <xf:submission ref="xf:instance('secondaryquestions')"
                       method="put"
                       action="secondaryquestions.xml" />
        <xf:submission ref="xf:instance('beneficiaries')"
                       method="put"
                       action="beneficiaries.xml" />
    </xf:model>
    <f:page>
        <xf:label>Applicant Enrollment</xf:label>
        <f:section>
            <f:p>This coverage is awesome and lots of nice stuff can be said about it.</f:p>
            <xf:input ref="xf:instance('misc')/secondary"
                      appearance="full">
                <xf:label>Yes, I'd like to take advantage of this offer for my spouse or other partner or whatever and stuff and we will fill in the contents of the rest of this text later.</xf:label>
            </xf:input>
        </f:section>
        <f:section xf:ref="xf:instance('primaryperson')">
            <xf:label>Additional Information About You</xf:label>
            <xf:group>
                <xf:label>Physical Characteristics</xf:label>
                <xf:range ref="heightfeet"
                          start="2"
                          end="15"
                          step="1">
                    <xf:label>Feet</xf:label>
                </xf:range>
                <xf:range ref="heightinches"
                          start="0"
                          end="11"
                          step="1">
                    <xf:label>Inches</xf:label>
                </xf:range>
                <xf:range ref="weight"
                          start="50"
                          end="500"
                          step="5">
                    <xf:label>Weight</xf:label>
                </xf:range>
                <xf:select1 ref="gender">
                    <xf:label>Sex</xf:label>
                    <xf:item>
                        <xf:label>Male</xf:label>
                        <xf:value>M</xf:value>
                    </xf:item>
                    <xf:item>
                        <xf:label>Female</xf:label>
                        <xf:value>F</xf:value>
                    </xf:item>
                </xf:select1>
            </xf:group>
            <xf:input ref="dateofbirth">
                <xf:label>Date of Birth</xf:label>
            </xf:input>
            <xf:input ref="socialsecuritynumber">
                <xf:label>Social Security Number</xf:label>
            </xf:input>
            <xf:group>
                <xf:label>Contact Information</xf:label>
                <xf:input ref="telephone1">
                    <xf:label>Home Phone</xf:label>
                </xf:input>
                <xf:input ref="telephone2">
                    <xf:label>Work Phone</xf:label>
                </xf:input>
            </xf:group>
        </f:section>
        <f:section xf:ref="xf:instance('primaryelections')/term-life">
            <xf:label>Coverage Election</xf:label>
            <xf:hint>Choose the type of coverage and amounts for which you are applying.</xf:hint>
            <xf:select1 ref="coverage-amount"
                        appearance="full">
                <xf:item>
                    <xf:label>$75,000</xf:label>
                    <xf:value>75000</xf:value>
                </xf:item>
                <xf:item>
                    <xf:label>$100,000</xf:label>
                    <xf:value>100000</xf:value>
                </xf:item>
                <xf:item>
                    <xf:label>$150,000</xf:label>
                    <xf:value>150000</xf:value>
                </xf:item>
            </xf:select1>
        </f:section>
        <f:section xf:ref="xf:instance('primaryquestions')">
            <xf:label>Health Questions</xf:label>
            <xf:hint>Please answer the following questions by checking “Yes” or “No.”</xf:hint>
            <xf:repeat nodeset="question">
                <xf:select1 ref="answer" incremental="true">
                    <xf:label ref="../text" />
                    <xf:item>
                        <xf:label>No</xf:label>
                        <xf:value>false</xf:value>
                    </xf:item>
                    <xf:item>
                        <xf:label>Yes</xf:label>
                        <xf:value>true</xf:value>
                    </xf:item>
                </xf:select1>
                <xf:group ref="healthinfo">
                    <xf:input ref="condition">
                        <xf:label>Condition</xf:label>
                    </xf:input>
                    <xf:input ref="dates">
                        <xf:label>Dates</xf:label>
                    </xf:input>
                    <xf:input ref="currentstatus">
                        <xf:label>Current Status</xf:label>
                    </xf:input>
                    <xf:input ref="physicianname">
                        <xf:label>Physician Name</xf:label>
                    </xf:input>
                    <xf:input ref="physicianaddress">
                        <xf:label>Physician Address</xf:label>
                    </xf:input>
                    <xf:input ref="physiciantelephone">
                        <xf:label>Physician Phone Number</xf:label>
                    </xf:input>
                </xf:group>
            </xf:repeat>
        </f:section>
    </f:page>
    <f:page xf:ref="xf:instance('misc')/secondary_enabled">
        <xf:label>Spousal Enrollment</xf:label>
        <f:section xf:ref="xf:instance('secondaryperson')">
            <xf:label>Spouse Information</xf:label>
            <xf:group>
                <xf:label>Name</xf:label>
                <xf:input ref="firstname">
                    <xf:label>First</xf:label>
                </xf:input>
                <xf:input ref="middlename">
                    <xf:label>Middle</xf:label>
                </xf:input>
                <xf:input ref="lastname">
                    <xf:label>Last</xf:label>
                </xf:input>
            </xf:group>
            <xf:group>
                <xf:label>Physical Characteristics</xf:label>
                <xf:range ref="heightfeet"
                          start="2"
                          end="15"
                          step="1">
                    <xf:label>Feet</xf:label>
                </xf:range>
                <xf:range ref="heightinches"
                          start="0"
                          end="11"
                          step="1">
                    <xf:label>Inches</xf:label>
                </xf:range>
                <xf:range ref="weight"
                          start="50"
                          end="500"
                          step="5">
                    <xf:label>Weight</xf:label>
                </xf:range>
                <xf:select1 ref="gender">
                    <xf:label>Sex</xf:label>
                    <xf:item>
                        <xf:label>Male</xf:label>
                        <xf:value>M</xf:value>
                    </xf:item>
                    <xf:item>
                        <xf:label>Female</xf:label>
                        <xf:value>F</xf:value>
                    </xf:item>
                </xf:select1>
            </xf:group>
            <xf:input ref="dateofbirth">
                <xf:label>Date of Birth</xf:label>
            </xf:input>
            <xf:input ref="socialsecuritynumber">
                <xf:label>Social Security Number</xf:label>
            </xf:input>
        </f:section>
        <f:section xf:ref="xf:instance('secondaryelections')/term-life">
            <xf:label>Coverage Selection</xf:label>
            <xf:hint>Choose the type of coverage and amounts for which you are applying.</xf:hint>
            <xf:select1 ref="coverage-amount">
                <xf:item>
                    <xf:label>$75,000</xf:label>
                    <xf:value>75000</xf:value>
                </xf:item>
                <xf:item>
                    <xf:label>$100,000</xf:label>
                    <xf:value>100000</xf:value>
                </xf:item>
                <xf:item>
                    <xf:label>$150,000</xf:label>
                    <xf:value>150000</xf:value>
                </xf:item>
            </xf:select1>
        </f:section>
        <f:section xf:ref="xf:instance('secondaryquestions')">
            <xf:label>Health Questions</xf:label>
            <xf:hint>Please answer the following questions by checking “Yes” or “No.”</xf:hint>
            <xf:repeat nodeset="question">
                <xf:select1 ref="answer" incremental="true">
                    <xf:label ref="../text" />
                    <xf:item>
                        <xf:label>No</xf:label>
                        <xf:value>false</xf:value>
                    </xf:item>
                    <xf:item>
                        <xf:label>Yes</xf:label>
                        <xf:value>true</xf:value>
                    </xf:item>
                </xf:select1>
                <xf:group ref="healthinfo">
                    <xf:input ref="condition">
                        <xf:label>Condition</xf:label>
                    </xf:input>
                    <xf:input ref="dates">
                        <xf:label>Dates</xf:label>
                    </xf:input>
                    <xf:input ref="currentstatus">
                        <xf:label>Current Status</xf:label>
                    </xf:input>
                    <xf:input ref="physicianname">
                        <xf:label>Physician Name</xf:label>
                    </xf:input>
                    <xf:input ref="physicianaddress">
                        <xf:label>Physician Address</xf:label>
                    </xf:input>
                    <xf:input ref="physiciantelephone">
                        <xf:label>Physician Phone Number</xf:label>
                    </xf:input>
                </xf:group>
            </xf:repeat>
        </f:section>
    </f:page>
    <f:page>
        <xf:label>Additional Information</xf:label>
        <f:section>
            <xf:label>Beneficiaries</xf:label>
            <f:p>Please list all beneficiaries you wish to name.</f:p>
            <f:table>
                <f:table-column-group>
                    <f:table-column>First Name</f:table-column>
                    <f:table-column>MI</f:table-column>
                    <f:table-column>Last Name</f:table-column>
                    <f:table-column>Social Security Number</f:table-column>
                    <f:table-column>Phone Number</f:table-column>
                    <f:table-column>Relationship</f:table-column>
                    <f:table-column>Percentage</f:table-column>
                </f:table-column-group>
                <xf:repeat nodeset="xf:instance('beneficiaries')/beneficiary">
                    <f:table-row>
                        <f:table-cell>
                            <xf:input ref="firstname"
                                      appearance="minimal">
                                <xf:label />
                            </xf:input>
                        </f:table-cell>
                        <f:table-cell>
                            <xf:input ref="middlename"
                                      appearance="minimal">
                                <xf:label />
                            </xf:input>
                        </f:table-cell>
                        <f:table-cell>
                            <xf:input ref="lastname"
                                      appearance="minimal">
                                <xf:label />
                            </xf:input>
                        </f:table-cell>
                        <f:table-cell>
                            <xf:input ref="socialsecuritynumber"
                                      appearance="minimal">
                                <xf:label />
                            </xf:input>
                        </f:table-cell>
                        <f:table-cell>
                            <xf:input ref="telephone"
                                      appearance="minimal">
                                <xf:label />
                            </xf:input>
                        </f:table-cell>
                        <f:table-cell>
                            <xf:input ref="relationship" />
                        </f:table-cell>
                        <f:table-cell>
                            <xf:range ref="percentage"
                                      start="0"
                                      step="5"
                                      end="100">
                                <xf:label />
                            </xf:range>
                        </f:table-cell>
                    </f:table-row>
                </xf:repeat>
            </f:table>
        </f:section>
    </f:page>
</f:form>
