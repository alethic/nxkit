!function(NXKit){var init=function($,ko,NXKit){var NXKit;!function(e){!function(e){var t=function(){function e(e){this.callback=e}return Object.defineProperty(e.prototype,"Promise",{get:function(){var e=this;return null!=e.deferred?e.deferred.promise():(e.deferred=$.Deferred(),e.callback(e.deferred),e.deferred.progress())},enumerable:!0,configurable:!0}),e}(),n=function(){function e(){this._queue=new Array}return e.prototype.Register=function(e){var n=this;n._queue.push(new t(e))},e.prototype.Wait=function(e){for(var t=this,n=new Array,r=0;r<t._queue.length;r++)n[r]=t._queue[r].Promise;$.when.apply($,n).done(e)},e}();e.DeferredExecutor=n}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(){!function(){function e(){this._listeners=[]}return e.prototype.add=function(e){this._listeners.push(e)},e.prototype.remove=function(e){if("function"==typeof e){for(var t=0,n=this._listeners.length;n>t;n++)if(this._listeners[t]===e){this._listeners.splice(t,1);break}}else this._listeners=[]},e.prototype.trigger=function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];for(var n={},r=this._listeners.slice(0),i=0,o=r.length;o>i;i++)r[i].apply(n,e||[])},e}()}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function t(t,n,r){var i=this;i._node=t,i._name=n,i._properties=new e.PropertyMap,null!=r&&i.Apply(r)}return Object.defineProperty(t.prototype,"Node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"View",{get:function(){return this._node.View},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Properties",{get:function(){return this._properties},enumerable:!0,configurable:!0}),t.prototype.Apply=function(t){try{var n=this,r=[];for(var i in n._properties)r.push(n._properties[i]);for(var i in t){var o=i,u=o,a=n._properties[u];null==a?n._properties[u]=new e.Property(n,u,t[o]):a.Update(t[o]);var s=r.indexOf(a);-1!=s&&(r[s]=null)}for(var l=0;l<r.length;l++){var a=r[l];null!=a&&delete n._properties[a.Name]}}catch(f){throw f.message="Interface.Apply()\nMessage: "+f.message,f}},t.prototype.ToData=function(){var e=this,t={};for(var n in e._properties){var r=n,i=e._properties[r];t[e._properties[r].Name]=i.ToData()}return t},t}();e.Interface=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function e(){}return e}();e.InterfaceMap=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){!function(e){var t=function(){function e(){}return e._init=function(t,n,r,i,o){setTimeout(function(){$(t).checkbox(),$(t).checkbox("setting",{onEnable:function(){var e=!0,t=ko.unwrap(n());if("boolean"==typeof t)e!=t&&n()(e);else if("string"==typeof t){var r="true"===t.toLowerCase()?!0:!1;e!=r&&n()(e?"true":"false")}},onDisable:function(){var e=!1,t=ko.unwrap(n());if("boolean"==typeof t)e!=t&&n()(e);else if("string"==typeof t){var r="true"===t.toLowerCase()?!0:!1;e!=r&&n()(e?"true":"false")}}}),e._update(t,n,r,i,o)},2e3)},e._update=function(e,t){setTimeout(function(){var n=ko.unwrap(t());if("boolean"==typeof n)$(e).checkbox(n?"enable":"disable");else if("string"==typeof n){var r="true"===n.toLowerCase()?!0:!1;$(e).checkbox(r?"enable":"disable")}},1e3)},e.prototype.init=function(t,n,r,i,o){e._init(t,n,r,i,o)},e.prototype.update=function(t,n,r,i,o){e._update(t,n,r,i,o)},e}();e.CheckboxBindingHandler=t,ko.bindingHandlers.nxkit_checkbox=new t}(e.Knockout||(e.Knockout={}));e.Knockout}(e.View||(e.View={}));e.View}(NXKit||(NXKit={})),$.fn.extend({slideRightShow:function(){return this.each(function(){$(this).show("slide",{direction:"right"},1e3)})},slideLeftHide:function(){return this.each(function(){$(this).hide("slide",{direction:"left"},1e3)})},slideRightHide:function(){return this.each(function(){$(this).hide("slide",{direction:"right"},1e3)})},slideLeftShow:function(){return this.each(function(){$(this).show("slide",{direction:"left"},1e3)})}});var NXKit;!function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.init=function(e,t){var n=t();$(e).toggle(ko.utils.unwrapObservable(n)),ko.utils.unwrapObservable(n)?$(e).slideLeftShow():$(e).slideLeftHide()},e.prototype.update=function(e,t){var n=t();ko.utils.unwrapObservable(n)?$(e).slideLeftShow():$(e).slideLeftHide()},e}();e.HorizontalVisibleBindingHandler=t,ko.bindingHandlers.nxkit_hvisible=new t,ko.virtualElements.allowedBindings.nxkit_hvisible=!0}(e.Knockout||(e.Knockout={}));e.Knockout}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){!function(e){var t=function(){function e(){}return e._init=function(e,t,n,r,i){ko.bindingHandlers.value.init(e,t,n,r,i)},e._update=function(e,t,n,r,i){ko.bindingHandlers.value.update(e,t,n,r,i)},e.prototype.init=function(t,n,r,i,o){e._init(t,n,r,i,o)},e.prototype.update=function(t,n,r,i,o){e._update(t,n,r,i,o)},e}();e.InputBindingHandler=t,ko.bindingHandlers.nxkit_input=new t}(e.Knockout||(e.Knockout={}));e.Knockout}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.init=function(e,t,n,r,i){ko.utils.extend(n(),{clickBubble:!1});ko.bindingHandlers.click.init(e,function(){return function(){setTimeout(function(){var e=t();e&&$("#"+e).modal("show")},5)}},n,r,i)},e}();e.ModalBindingHandler=t,ko.bindingHandlers.nxkit_modal=new t}(e.Knockout||(e.Knockout={}));e.Knockout}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.init=function(e,t){var n=t();$(e).toggle(ko.utils.unwrapObservable(n)),ko.utils.unwrapObservable(n)?$(e).slideDown():$(e).slideUp()},e.prototype.update=function(e,t){var n=t();ko.utils.unwrapObservable(n)?$(e).slideDown():$(e).slideUp()},e}();e.VisibleBindingHandler=t,ko.bindingHandlers.nxkit_visible=new t,ko.virtualElements.allowedBindings.nxkit_visible=!0}(e.Knockout||(e.Knockout={}));e.Knockout}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){!function(e){function t(e){return ko.observable(e).extend({rateLimit:{timeout:50,method:"notifyWhenChangesStop"}})}function n(e){return ko.observableArray(e).extend({rateLimit:{timeout:50,method:"notifyWhenChangesStop"}})}function r(e){return ko.computed(e).extend({rateLimit:{timeout:50,method:"notifyWhenChangesStop"}})}function i(t,n,r){if(null!=r){var i=r(t,n);if(null!=i)return i}if(null==t&&null===n)return!0;if(typeof t!=typeof n)return!1;if("boolean"==typeof t&&"boolean"==typeof n)return t===n;if("string"==typeof t&&"string"==typeof n)return t===n;if("number"==typeof t&&"number"==typeof n)return t===n;if("function"==typeof t&&"function"==typeof n)return t.toString()===n.toString();for(var o in t)if(t.hasOwnProperty(o))if(n.hasOwnProperty(o)){if(!e.DeepEquals(t[o],n[o],r))return!1}else if(!e.DeepEquals(t[o],null,r))return!1;for(var o in n)if(n.hasOwnProperty(o))if(t.hasOwnProperty(o)){if(!e.DeepEquals(t[o],n[o],r))return!1}else if(!e.DeepEquals(null,n[o],r))return!1;return!0}function o(){for(var e=[],t="0123456789abcdef",n=0;36>n;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}function u(e){return[e.$data].concat(e.$parents)}e.Observable=t,e.ObservableArray=n,e.Computed=r,e.DeepEquals=i,e.GenerateGuid=o,e.GetContextItems=u}(e.Util||(e.Util={}));e.Util}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function t(e){this._args=e}return t.GetArgs=function(n){for(var r={},i=e.Util.GetContextItems(n),o=0;o<i.length;o++)i[o]instanceof t&&(r=ko.utils.extend(r,i[o]));return r},Object.defineProperty(t.prototype,"Args",{get:function(){return this._args},enumerable:!0,configurable:!0}),t}();e.LayoutOptions=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function e(){}return e.Group=function(t,n){"function"==typeof console.group&&e.Verbose&&console.group(t);var r=null!=n?n():null;return e.Verbose&&console.dir(r),"function"==typeof console.groupEnd&&e.Verbose&&console.groupEnd(),r},e.Debug=function(t){for(var n=[],r=0;r<arguments.length-1;r++)n[r]=arguments[r+1];e.Verbose&&console.debug(t,n)},e.Object=function(t){for(var n=[],r=0;r<arguments.length-1;r++)n[r]=arguments[r+1];e.Verbose&&console.dir(t,n)},e.Verbose=!1,e}();e.Log=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function e(e,t){this._severity=e,this._text=t}return Object.defineProperty(e.prototype,"Severity",{get:function(){return this._severity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e}();e.Message=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function t(t,n,r){this._suspend=!1;var i=this;i._intf=t,i._name=n,i._value=ko.observable(null),i._value.subscribe(function(){i._suspend||i.OnUpdate()}),i._valueAsString=e.Util.Computed({read:function(){var e=null!=i._value()?String(i._value()).trim():null;return e?e:null},write:function(e){var t=null!=e?e.trim():null;return i._value(t?t:null)}}),i._valueAsBoolean=e.Util.Computed({read:function(){return i._value()===!0||"true"===i._value()||"True"===i._value()},write:function(e){i._value(e?"true":"false")}}),i._valueAsNumber=e.Util.Computed({read:function(){return""!=i._value()?parseFloat(i._value()):null},write:function(e){i._value(null!=e?e.toString():null)}}),i._valueAsDate=e.Util.Computed({read:function(){return null!=i._value()?new Date(i._value()):null},write:function(e){i._value(e instanceof Date?e.toDateString():"string"==typeof e?null!=e?new Date(e):null:null)}}),null!=r&&i.Update(r)}return Object.defineProperty(t.prototype,"Interface",{get:function(){return this._intf},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Node",{get:function(){return this._intf.Node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"View",{get:function(){return this._intf.View},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ValueAsString",{get:function(){return this._valueAsString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ValueAsBoolean",{get:function(){return this._valueAsBoolean},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ValueAsNumber",{get:function(){return this._valueAsNumber},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ValueAsDate",{get:function(){return this._valueAsDate},enumerable:!0,configurable:!0}),t.prototype.Update=function(t){try{var n=this;if(null!=t&&null!=t.Type&&"Object"===t.Type){if(n._suspend=!0,null!=n._value()&&n._value()instanceof e.Node)n._value().Apply(t),e.Log.Debug(n.Name+": Node=>Node");else{var r=new e.Node(n._intf.View,t);n._value(r),e.Log.Debug(n.Name+": Node+>Node")}return void(n._suspend=!1)}var i=n._value();i!==t&&(n._suspend=!0,n._value(t),e.Log.Debug(n.Name+": "+i+"=>"+t),n._suspend=!1)}catch(o){throw o.message="Property.Update()\nMessage: "+o.message,o}},t.prototype.ToData=function(){return this._value()},t.prototype.OnUpdate=function(){this.View.PushUpdate(this.Node,this.Interface,this,this._value())},t}();e.Property=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function t(t,n){this._view=t,this._id=-1,this._data=null,this._type=null,this._name=null,this._value=ko.observable(),this._intfs=new e.InterfaceMap,this._nodes=ko.observableArray(),null!=n&&this.Apply(n)}return Object.defineProperty(t.prototype,"View",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsNode",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Interfaces",{get:function(){return this._intfs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),t.prototype.Property=function(e,t){try{var n=this._intfs[e];if(null==n)return null;var r=n.Properties[t];return null==r?null:r}catch(i){throw i.message="Node.Property()\nMessage: "+i.message,i}},t.prototype.Invoke=function(e,t,n){this.View.PushInvoke(this,e,t,n)},t.prototype.Apply=function(e){var t=this;try{t._data=e,t.ApplyId(e.Id),t.ApplyType(e.Type),t.ApplyName(e.Name),t.ApplyValue(e.Value),t.ApplyInterfaces(e),t.ApplyNodes(e.Nodes)}catch(n){throw n.message="Node.Apply()\nMessage: "+n.message,n}},t.prototype.ApplyId=function(e){this._id=e},t.prototype.ApplyType=function(t){this._type=e.NodeType.Parse(t)},t.prototype.ApplyName=function(e){this._name=e},t.prototype.ApplyValue=function(e){this._value(e)},t.prototype.ApplyInterfaces=function(e){try{var t=this;for(var n in e)n.indexOf(".")>-1&&t.UpdateInterface(n,e[n])}catch(r){throw r.message="Node.UpdateInterfaces()\nMessage: "+r.message,r}},t.prototype.UpdateInterface=function(t,n){try{var r=this,i=r._intfs[t];null==i?i=r._intfs[t]=new e.Interface(r,t,n):i.Apply(n)}catch(o){throw o.message="Node.UpdateInterface()\nMessage: "+o.message,o}},t.prototype.ApplyNodes=function(e){try{var n=this;if(null==e)return void n._nodes.removeAll();for(var r=0;r<e.length;r++)if(n._nodes().length<r+1){var i=new t(n._view,e[r]);n._nodes.push(i)}else n._nodes()[r].Apply(e[r]);n._nodes().length>e.length&&n._nodes.splice(e.length)}catch(o){throw o.message="Node.UpdateNodes()\nMessage: "+o.message,o}},t.prototype.ToData=function(){var e=this,t={Id:e._id};for(var n in e._intfs)t[n]=e._intfs[n].ToData();return t},t.prototype.NodesToData=function(){return ko.utils.arrayMap(this._nodes(),function(e){return e.ToData()})},t}();e.Node=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function e(e){this._value=e}return e.Parse=function(t){switch(t.toLowerCase()){case"text":return e.Text;case"element":return e.Element}return e.Object},e.prototype.ToString=function(){return this._value},e.Object=new e("object"),e.Text=new e("text"),e.Element=new e("element"),e}();e.NodeType=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function t(t,n){var r=this;if(null==t)throw new Error("context: null");if(!(n instanceof e.Node))throw new Error("node: null");r._context=t,r._node=n}return Object.defineProperty(t.prototype,"Context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Contents",{get:function(){return this.GetContents()},enumerable:!0,configurable:!0}),t.prototype.GetContents=function(){try{return e.ViewModelUtil.GetContents(this.Node)}catch(t){throw t.message='NodeViewModel.GetContents()"\nMessage: '+t.message,t}},Object.defineProperty(t.prototype,"ContentsCount",{get:function(){return this.Contents.length},enumerable:!0,configurable:!0}),t}();e.NodeViewModel=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){var t=function(){function e(){}return e}();e.PropertyMap=t}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){!function(e){e[e.Verbose=1]="Verbose",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error"}(e.Severity||(e.Severity={}));e.Severity}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;!function(NXKit){!function(_View){var View=function(){function View(e,t){var n=this;n._server=t,n._body=e,n._save=null,n._hash=null,n._root=null,n._bind=!0,n._threshold=3,n._queue=new Array,n._queueRunning=!1,n._busy=ko.observable(!1)}return Object.defineProperty(View.prototype,"Busy",{get:function(){return this._busy},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"Body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"Data",{get:function(){return{Save:this._save,Hash:this._hash}},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"Root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"Threshold",{get:function(){return this._threshold},set:function(e){this._threshold=e},enumerable:!0,configurable:!0}),View.prototype.Receive=function(e){var t=this;t._save=e.Save||t._save,t._hash=e.Hash||t._hash;var n=e.Node||null;null!=n&&t.ReceiveNode(n);var r=e.Commands||null;null!=r&&t.ReceiveCommands(r)},View.prototype.ReceiveNode=function(e){var t=this;null!=e&&t.Apply(e||null)},View.prototype.ReceiveCommands=function(commands){for(var self=this,i=0;i<commands.length;i++){var command=commands[i];null!=command&&("NXKit.Server.Commands.Trace, NXKit.Server"===command.$type&&null!=command.Message&&"object"==typeof console,"NXKit.Server.Commands.Script, NXKit.Server"===command.$type&&null!=command.Code&&eval(command.Code))}},View.prototype.Apply=function(e){var t=this;null==t._root?t._root=new _View.Node(t,e):t._root.Apply(e),t.ApplyBindings()},View.prototype.PushUpdate=function(e,t,n,r){var i=this;_View.Log.Debug("View.PushUpdate");var o={$type:"NXKit.View.Server.Commands.Update, NXKit.View.Server",NodeId:e.Id,Interface:t.Name,Property:n.Name,Value:r};i.Queue(o)},View.prototype.PushInvoke=function(e,t,n,r){var i=this;_View.Log.Debug("View.PushInvoke");var o={$type:"NXKit.View.Server.Commands.Invoke, NXKit.View.Server",NodeId:e.Id,Interface:t,Method:n,Parameters:r};i.Queue(o)},View.prototype.Queue=function(e){var t=this,n=this;if(n._queue.push(e),!n._queueRunning){n._queueRunning=!0;var r={},i=new Array;setTimeout(function(){n._busy(!0);var e=function(){var o=n._queue.splice(0),u=function(a){if(200==a.Status){var s=a.Hash||null;null!=s&&(t._hash=s);var l=a.Save||null;null!=l&&(t._save=l),null!=a.Node&&(r=a.Node),null!=a.Commands&&ko.utils.arrayPushAll(i,a.Commands),0==n._queue.length&&n.Receive({Hash:t._hash,Save:t._save,Node:r,Commands:i}),e()}else if(400==a.Status)n._server({Save:n._save,Hash:n._hash,Commands:o},u);else{if(500!=a.Status)throw new Error("unexpected response code");for(var f=0;f<a.Errors.length;f++)throw new Error(a.Errors[f].Message||"")}};o.length>0?n._server({Hash:n._hash,Commands:o},u):(n._queueRunning=!1,n._busy(!1))};e()},50)}},View.prototype.ApplyBindings=function(){var e=this;e._bind&&null!=e._body&&null!=e._root&&(ko.cleanNode(e._body),NXKit.require(["nx-html!nxkit.html"],function(){$(e._body).attr("data-bind","template: { name: 'NXKit.View' }"),ko.applyBindings(e,e._body),e._bind=!1}))},View}();_View.View=View}(NXKit.View||(NXKit.View={}));var View=NXKit.View}(NXKit||(NXKit={}));var NXKit;!function(e){!function(e){!function(t){function n(t){return t.Type==e.NodeType.Text&&""===(t.Value()||"").trim()}function r(e){return null==e||n(e)}function i(e){return!r(e)&&t.GroupNodes.some(function(t){return e.Name==t})}function o(e){return e.some(function(e){return i(e)})}function u(e){return e.filter(function(e){return i(e)})}function a(e){return!r(e)&&t.ControlNodes.some(function(t){return e.Name==t})}function s(e){return e.some(function(e){return a(e)})}function l(e){return e.filter(function(e){return a(e)})}function f(e){return!r(e)&&t.MetadataNodes.some(function(t){return e.Name==t})}function c(e){return e.some(function(e){return f(e)})}function p(e){return e.filter(function(e){return f(e)})}function d(e){return r(e)||t.TransparentNodePredicates.some(function(t){return t(e)})}function v(e){return e.some(function(e){return d(e)})}function y(e){return e.filter(function(e){return a(e)})}function h(e){try{for(var t=e.filter(function(e){return!f(e)}),n=new Array,r=0;r<t.length;r++){var i=t[r];if(null==i)throw new Error("ViewModelUtil.GetContentNodes(): prospective Node is null");if(d(i))for(var o=h(i.Nodes()),u=0;u<o.length;u++)n.push(o[u]);else n.push(i)}return n}catch(a){throw a.message='ViewModelUtil.GetContentNodes()"\nMessage: '+a.message,a}}function b(e){try{return h(e.Nodes())}catch(t){throw t.message='ViewModelUtil.GetContents()"\nMessage: '+t.message,t}}t.GroupNodes=[],t.ControlNodes=[],t.MetadataNodes=[],t.TransparentNodes=[],t.TransparentNodePredicates=[function(e){return t.TransparentNodes.some(function(t){return t===e.Name})}],t.IsEmptyTextNode=n,t.IsIgnoredNode=r,t.IsGroupNode=i,t.HasGroupNode=o,t.GetGroupNodes=u,t.IsControlNode=a,t.HasControlNode=s,t.GetControlNodes=l,t.IsMetadataNode=f,t.HasMetadataNode=c,t.GetMetadataNodes=p,t.IsTransparentNode=d,t.HasTransparentNode=v,t.GetTransparentNodes=y,t.GetContentNodes=h,t.GetContents=b}(e.ViewModelUtil||(e.ViewModelUtil={}));e.ViewModelUtil}(e.View||(e.View={}));e.View}(NXKit||(NXKit={}));var NXKit;return function(e){!function(t){!function(n){var r=function(){function n(){}return n.prototype.init=function(e,t,r,i,o){var u=n.ConvertValueAccessor(e,t,i,o);null!=u&&ko.bindingHandlers.template.init(e,function(){return u},r,i,o)},n.prototype.update=function(e,t,r,i,o){var u=n.ConvertValueAccessor(e,t,i,o);null!=u&&ko.bindingHandlers.template.update(e,function(){return u},r,i,o)},n.ConvertValueAccessor=function(r,i,o){var u=i()||o,a=ko.observable("NXKit.View.Loading");if(null==u)return{data:null,name:a};var s=function(e){try{return JSON.parse(e)}catch(t){return console.error(t),null}},l=u.Property("NXKit.View.Js.ViewModule","Require"),f=null!=l?l.Value.peek()||[]:[];return e.require(f,function(){for(var e=[],r=0;r<arguments.length-0;r++)e[r]=arguments[r+0];for(var i=e.length-1;i>=0;i--){var o=e[i];if(o instanceof HTMLElement){var l=$(o).find('script[type="text/html"]').get().reverse();for(var f in l){var c=$(l[f]),p=c.data("nx-node-view-data");if(null==p){var d=c.attr("data-nx-node-view");d&&(p=c.data("nx-node-view-data",s(d)).data("nx-node-view-data"))}if(null!=p&&n.Match(u,p)){var v=c.attr("id");return(null==v||""==v)&&c.attr("id",v="NXKit.View__"+t.Util.GenerateGuid().replace(/-/g,"")),void(a()!=v&&a(v))}}}}a("NXKit.View.Unknown")}),{data:u,name:a}},n.Match=function(e,t){var n=function(e,t){if(null==e&&null==t)return!0;if(typeof e!=typeof t)return!1;if("boolean"==typeof e&&"boolean"==typeof t)return e===t;if("string"==typeof e&&"string"==typeof t)return e===t;if("number"==typeof e&&"number"==typeof t)return e===t;if("function"==typeof e&&"function"==typeof t)return e.toString()===t.toString();for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!n(e[r],t[r]))return!1}},r=function(t){if(t.Name&&t.Name!==e.Name)return!1;if(t.Type&&t.Type.toLowerCase()!==e.Type.ToString().toLowerCase())return!1;for(var r in t)if(r.indexOf(".")>=0){var i=t[r],o=e.Interfaces[r];if(!o)return!1;for(var u in i){var a=i[u],s=o.Properties[u];if(!s)return!1;var l=a,f=s.Value();if(!n(l,f))return!1}}return!0};if(Array.isArray(t)){var i=t.reverse();for(var o in i)if(r(i[o]))return!0}else if(r(t))return!0;return!1},n}();n.NodeBindingHandler=r,ko.bindingHandlers.nx_node=new r,ko.virtualElements.allowedBindings.nx_node=!0}(t.Knockout||(t.Knockout={}));t.Knockout}(e.View||(e.View={}));e.View}(NXKit||(NXKit={})),NXKit};NXKit.requirejs=NXKit.requirejs||requirejs,NXKit.require=NXKit.require||require,NXKit.define=NXKit.define||define,NXKit.define("nxkit",["jquery","knockout"],function(e,t){return init(e,t,NXKit)})}(window.NXKit||(window.NXKit={}));