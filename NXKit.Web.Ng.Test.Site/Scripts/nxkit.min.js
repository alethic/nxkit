var ___init_nxkit___=function(n,t){var r,i;return function(n){(function(){var n=function(){function n(){this._listeners=[]}return n.prototype.add=function(n){this._listeners.push(n)},n.prototype.remove=function(n){if(typeof n=="function"){for(var t=0,i=this._listeners.length;t<i;i++)if(this._listeners[t]===n){this._listeners.splice(t,1);break}}else this._listeners=[]},n.prototype.trigger=function(){for(var u,i,t,f,r=[],n=0;n<arguments.length-0;n++)r[n]=arguments[n+0];for(u={},i=this._listeners.slice(0),t=0,f=i.length;t<f;t++)i[t].apply(u,r||[])},n}()})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(n){(function(n){var i=function(){function i(i,r,u){this._suspend=!1;var f=this;f._intf=i;f._name=r;f._value=t.observable(null);f._value.subscribe(function(){f._suspend||f.OnUpdate()});f._valueAsString=n.Util.Computed({read:function(){var n=f._value()!=null?String(f._value()).trim():null;return n?n:null},write:function(n){var t=n!=null?n.trim():null;return f._value(t?t:null)}});f._valueAsBoolean=n.Util.Computed({read:function(){return f._value()===!0||f._value()==="true"||f._value()==="True"},write:function(n){f._value(n?"true":"false")}});f._valueAsNumber=n.Util.Computed({read:function(){return f._value()!=""?parseFloat(f._value()):null},write:function(n){f._value(n!=null?n.toString():null)}});f._valueAsDate=n.Util.Computed({read:function(){return f._value()!=null?new Date(f._value()):null},write:function(n){n instanceof Date?f._value(n.toDateString()):typeof n=="string"?f._value(n!=null?new Date(n):null):f._value(null)}});u!=null&&f.Update(u)}return Object.defineProperty(i.prototype,"Interface",{get:function(){return this._intf},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Node",{get:function(){return this._intf.Node},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"View",{get:function(){return this._intf.View},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ValueAsString",{get:function(){return this._valueAsString},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ValueAsBoolean",{get:function(){return this._valueAsBoolean},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ValueAsNumber",{get:function(){return this._valueAsNumber},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ValueAsDate",{get:function(){return this._valueAsDate},enumerable:!0,configurable:!0}),i.prototype.Update=function(t){var i,f,r;try{if(i=this,t!=null&&t.Type!=null&&t.Type==="Object"){i._suspend=!0;i._value()!=null&&i._value()instanceof n.Node?(i._value().Apply(t),n.Log.Debug(i.Name+": Node=>Node")):(f=new n.Node(i._intf.View,t),i._value(f),n.Log.Debug(i.Name+": Node+>Node"));i._suspend=!1;return}r=i._value();r!==t&&(i._suspend=!0,i._value(t),n.Log.Debug(i.Name+": "+r+"=>"+t),i._suspend=!1)}catch(u){u.message="Property.Update()\nMessage: "+u.message;throw u;}},i.prototype.ToData=function(){return this._value()},i.prototype.OnUpdate=function(){this.View.PushUpdate(this.Node,this.Interface,this,this._value())},i}();n.Property=i})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(n){(function(n){var i=function(){function i(i,r){this._view=i;this._id=-1;this._data=null;this._type=null;this._name=null;this._value=t.observable();this._intfs=new n.InterfaceMap;this._nodes=t.observableArray();r!=null&&this.Apply(r)}return Object.defineProperty(i.prototype,"View",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"IsNode",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Interfaces",{get:function(){return this._intfs},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),i.prototype.Property=function(n,t){var i,r;try{return(i=this._intfs[n],i==null)?null:(r=i.Properties[t],r==null)?null:r}catch(u){u.message="Node.Property()\nMessage: "+u.message;throw u;}},i.prototype.Invoke=function(n,t,i){this.View.PushInvoke(this,n,t,i)},i.prototype.Apply=function(n){try{this._data=n;this.ApplyId(n.Id);this.ApplyType(n.Type);this.ApplyName(n.Name);this.ApplyValue(n.Value);this.ApplyInterfaces(n);this.ApplyNodes(n.Nodes)}catch(t){t.message="Node.Apply()\nMessage: "+t.message;throw t;}},i.prototype.ApplyId=function(n){this._id=n},i.prototype.ApplyType=function(t){this._type=n.NodeType.Parse(t)},i.prototype.ApplyName=function(n){this._name=n},i.prototype.ApplyValue=function(n){this._value(n)},i.prototype.ApplyInterfaces=function(n){var r,t;try{r=this;for(t in n)t.indexOf(".")>-1&&r.UpdateInterface(t,n[t])}catch(i){i.message="Node.UpdateInterfaces()\nMessage: "+i.message;throw i;}},i.prototype.UpdateInterface=function(t,i){try{var r=this,u=r._intfs[t];u==null?u=r._intfs[t]=new n.Interface(r,t,i):u.Apply(i)}catch(f){f.message="Node.UpdateInterface()\nMessage: "+f.message;throw f;}},i.prototype.ApplyNodes=function(n){var t,r,f;try{if(t=this,n==null){t._nodes.removeAll();return}for(r=0;r<n.length;r++)t._nodes().length<r+1?(f=new i(t._view,n[r]),t._nodes.push(f)):t._nodes()[r].Apply(n[r]);t._nodes().length>n.length&&t._nodes.splice(n.length)}catch(u){u.message="Node.UpdateNodes()\nMessage: "+u.message;throw u;}},i.prototype.ToData=function(){var n=this,t={Id:n._id};for(var i in n._intfs)t[i]=n._intfs[i].ToData();return t},i.prototype.NodesToData=function(){return t.utils.arrayMap(this._nodes(),function(n){return n.ToData()})},i}();n.Node=i})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(n){(function(n){(function(i){function u(n){return t.observable(n).extend({rateLimit:{timeout:50,method:"notifyWhenChangesStop"}})}function f(n){return t.observableArray(n).extend({rateLimit:{timeout:50,method:"notifyWhenChangesStop"}})}function e(n){return t.computed(n).extend({rateLimit:{timeout:50,method:"notifyWhenChangesStop"}})}function o(n,t,r){var f,u;if(r!=null&&(f=r(n,t),f!=null))return f;if(n==null&&t===null)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="boolean"&&typeof t=="boolean"||typeof n=="string"&&typeof t=="string"||typeof n=="number"&&typeof t=="number")return n===t;if(typeof n=="function"&&typeof t=="function")return n.toString()===t.toString();for(u in n)if(n.hasOwnProperty(u))if(t.hasOwnProperty(u)){if(!i.DeepEquals(n[u],t[u],r))return!1}else if(!i.DeepEquals(n[u],null,r))return!1;for(u in t)if(t.hasOwnProperty(u))if(n.hasOwnProperty(u)){if(!i.DeepEquals(n[u],t[u],r))return!1}else if(!i.DeepEquals(null,t[u],r))return!1;return!0}function s(){for(var n=[],i="0123456789abcdef",t=0;t<36;t++)n[t]=i.substr(Math.floor(Math.random()*16),1);return n[14]="4",n[19]=i.substr(n[19]&3|8,1),n[8]=n[13]=n[18]=n[23]="-",n.join("")}function r(n){return[n.$data].concat(n.$parents)}function h(i){return t.utils.arrayFirst(r(i),function(t){return t instanceof n.LayoutManager})}i.Observable=u;i.ObservableArray=f;i.Computed=e;i.DeepEquals=o;i.GenerateGuid=s;i.GetContextItems=r;i.GetLayoutManager=h})(n.Util||(n.Util={}));var i=n.Util})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(i){(function(i){var r=function(){function r(n){this._context=null;this._parent=null;var i=this;if(n==null)throw new Error("context: null");i._context=n;i._parent=t.computed(function(){var t=[i._context.$data].concat(i._context.$parents),u,n;for(u in t)if(n=t[u],n instanceof r&&n!=i)return n;return null})}return Object.defineProperty(r.prototype,"Context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"Parent",{get:function(){return this._parent()},enumerable:!0,configurable:!0}),r.prototype.GetTemplateOptions_=function(n,t,i,r){return this.GetTemplateOptions(n,t,i,r)},r.prototype.GetTemplateOptions=function(n,t,i,r){return this.Parent!=null?this.Parent.GetTemplateOptions(n,t,i,r||{}):r||{}},r.prototype.GetLocalTemplates=function(){return[]},r.prototype.GetTemplates=function(){return this.GetLocalTemplates().concat(this.Parent!=null?this.Parent.GetTemplates():[])},r.prototype.GetNode=function(n,r){var u=t.unwrap(n()),f;return r!=null&&(f=t.unwrap(r),f instanceof i.Node)?f:u!=null&&u instanceof i.Node?u:u!=null&&u.node!=null?t.unwrap(u.node):void 0},r.prototype.GetUnknownTemplate=function(t){return n("<script />",{type:"text/html",text:'<span class="ui red label">'+JSON.stringify(t)+"<\/span>"}).appendTo("body")[0]},r.GetTemplateNodeData=function(t){var i=n(t).data("nxkit"),r,u,f;if(i!=null)return i;for(i={},r=0;r<t.attributes.length;r++)u=t.attributes.item(r),u.nodeName.indexOf("data-nxkit-")==0&&(f=u.nodeName.substring(11),i[f]=n(t).data("nxkit-"+f));return n(t).data("nxkit",i).data("nxkit")},r.TemplatePredicate=function(n,t){return i.Log.Group("TemplatePredicate",function(){if(t!=null&&Object.getOwnPropertyNames(t).length==0)return i.Log.Debug("opts: empty"),!1;var u=r.GetTemplateNodeData(n);return Object.getOwnPropertyNames(u).length==0?(i.Log.Debug("tmpl: empty"),!1):(i.Log.Object({tmpl:u,opts:t}),i.Util.DeepEquals(u,t,function(n,t){return n==="*"||t==="*"?!0:null}))})},r.TemplateFilter=function(n,t){return n.filter(function(n){return r.TemplatePredicate(n,t)})},r.prototype.GetTemplate=function(n){return r.TemplateFilter(this.GetTemplates(),n)[0]||this.GetUnknownTemplate(n)},r.prototype.GetTemplateName=function(n){var u=this;return i.Log.Group("LayoutManager.GetTemplateName",function(){var f=u.GetTemplate(n);if(f==null)throw new Error("LayoutManager.GetTemplate: no template located");return f.id==""&&(f.id="NXKit.Web__"+i.Util.GenerateGuid().replace(/-/g,"")),i.Log.Object({id:f.id,data:r.GetTemplateNodeData(f)}),t.observable(f.id)})},r}();i.LayoutManager=r})(i.Web||(i.Web={}));var r=i.Web}(i||(i={})),r=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(i){(function(i){var u=function(u){function f(n){u.call(this,n)}return r(f,u),f.prototype.GetTemplateOptions=function(n,r,f,e){try{e=u.prototype.GetTemplateOptions.call(this,n,r,f,e);var s=u.prototype.GetNode.call(this,n,r,f),o=t.unwrap(n());return s!=null&&s.Type==i.NodeType.Element&&(e.name=s.Name),s!=null&&s.Type==i.NodeType.Text&&(e.type=i.NodeType.Text.ToString()),o!=null&&o.name!=null&&(e.name=t.unwrap(o.name)),o!=null&&o.layout!=null&&(e.layout=t.unwrap(o.layout)),e}catch(h){h.message="DefaultLayoutManager.GetTemplateOptions()\nMessage: "+h.message;throw h;}},f.prototype.GetLocalTemplates=function(){return this._templates==null&&(this._templates=n('script[type="text/html"]').get()),this._templates},f}(i.LayoutManager);i.DefaultLayoutManager=u})(i.Web||(i.Web={}));var u=i.Web}(i||(i={})),function(t){(function(t){var i=function(){function t(n){this.callback=n}return Object.defineProperty(t.prototype,"Promise",{get:function(){var t=this;return t.deferred!=null?t.deferred.promise():(t.deferred=n.Deferred(),t.callback(t.deferred),t.deferred.progress())},enumerable:!0,configurable:!0}),t}(),r=function(){function t(){this._queue=[]}return t.prototype.Register=function(n){var t=this;t._queue.push(new i(n))},t.prototype.Wait=function(t){for(var r=this,u=[],i=0;i<r._queue.length;i++)u[i]=r._queue[i].Promise;n.when.apply(n,u).done(t)},t}();t.DeferredExecutor=r})(t.Web||(t.Web={}));var i=t.Web}(i||(i={})),function(n){(function(n){var t=function(){function t(t,i,r){var u=this;u._node=t;u._name=i;u._properties=new n.PropertyMap;r!=null&&u.Apply(r)}return Object.defineProperty(t.prototype,"Node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"View",{get:function(){return this._node.View},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Properties",{get:function(){return this._properties},enumerable:!0,configurable:!0}),t.prototype.Apply=function(t){var i,r,f,h,e,u;try{i=this;r=[];for(f in i._properties)r.push(i._properties[f]);for(f in t){var o=f,s=o,u=i._properties[s];u==null?i._properties[s]=new n.Property(i,s,t[o]):u.Update(t[o]);h=r.indexOf(u);h!=-1&&(r[h]=null)}for(e=0;e<r.length;e++)u=r[e],u!=null&&delete i._properties[u.Name]}catch(c){c.message="Interface.Apply()\nMessage: "+c.message;throw c;}},t.prototype.ToData=function(){var n=this,i={},r,t,u;for(r in n._properties)t=r,u=n._properties[t],i[n._properties[t].Name]=u.ToData();return i},t}();n.Interface=t})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(n){(function(n){var t=function(){function n(){}return n}();n.InterfaceMap=t})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(i){(function(i){(function(i){var r=function(){function i(){}return i._init=function(r,u,f,e,o){setTimeout(function(){n(r).checkbox();n(r).checkbox("setting",{onEnable:function(){var n=!0,i=t.unwrap(u()),r;typeof i=="boolean"?n!=i&&u()(n):typeof i=="string"&&(r=i.toLowerCase()==="true"?!0:!1,n!=r&&u()(n?"true":"false"))},onDisable:function(){var n=!1,i=t.unwrap(u()),r;typeof i=="boolean"?n!=i&&u()(n):typeof i=="string"&&(r=i.toLowerCase()==="true"?!0:!1,n!=r&&u()(n?"true":"false"))}});i._update(r,u,f,e,o)},2e3)},i._update=function(i,r){var u=this;setTimeout(function(){var u=t.unwrap(r()),f;typeof u=="boolean"?n(i).checkbox(u?"enable":"disable"):typeof u=="string"&&(f=u.toLowerCase()==="true"?!0:!1,n(i).checkbox(f?"enable":"disable"))},1e3)},i.prototype.init=function(n,t,r,u,f){i._init(n,t,r,u,f)},i.prototype.update=function(n,t,r,u,f){i._update(n,t,r,u,f)},i}();i.CheckboxBindingHandler=r;t.bindingHandlers.nxkit_checkbox=new r})(i.Knockout||(i.Knockout={}));var r=i.Knockout})(i.Web||(i.Web={}));var r=i.Web}(i||(i={})),n.fn.extend({slideRightShow:function(){return this.each(function(){n(this).show("slide",{direction:"right"},1e3)})},slideLeftHide:function(){return this.each(function(){n(this).hide("slide",{direction:"left"},1e3)})},slideRightHide:function(){return this.each(function(){n(this).hide("slide",{direction:"right"},1e3)})},slideLeftShow:function(){return this.each(function(){n(this).show("slide",{direction:"left"},1e3)})}}),function(i){(function(i){(function(i){var r=function(){function i(){}return i.prototype.init=function(i,r){var u=r();n(i).toggle(t.utils.unwrapObservable(u));t.utils.unwrapObservable(u)?n(i).slideLeftShow():n(i).slideLeftHide()},i.prototype.update=function(i,r){var u=r();t.utils.unwrapObservable(u)?n(i).slideLeftShow():n(i).slideLeftHide()},i}();i.HorizontalVisibleBindingHandler=r;t.bindingHandlers.nxkit_hvisible=new r;t.virtualElements.allowedBindings.nxkit_hvisible=!0})(i.Knockout||(i.Knockout={}));var r=i.Knockout})(i.Web||(i.Web={}));var r=i.Web}(i||(i={})),function(n){(function(n){(function(n){var i=function(){function n(){}return n._init=function(n,i,r,u,f){t.bindingHandlers.value.init(n,i,r,u,f)},n._update=function(n,i,r,u,f){t.bindingHandlers.value.update(n,i,r,u,f)},n.prototype.init=function(t,i,r,u,f){n._init(t,i,r,u,f)},n.prototype.update=function(t,i,r,u,f){n._update(t,i,r,u,f)},n}();n.InputBindingHandler=i;t.bindingHandlers.nxkit_input=new i})(n.Knockout||(n.Knockout={}));var i=n.Knockout})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(n){(function(i){(function(i){var r=function(){function i(){}return i._init=function(i,r,u,f,e){for(var o=e,h=n.Web.ViewModelUtil.LayoutManagers,s=0;s<h.length;s++)o=o.createChildContext(h[s](o),null,null);return o=o.createChildContext(f),o=o.createChildContext(f),t.applyBindingsToDescendants(o,i),{controlsDescendantBindings:!0}},i.prototype.init=function(n,t,r,u,f){return i._init(n,t,r,u,f)},i}();i.LayoutManagerExportBindingHandler=r;t.bindingHandlers.nxkit_layout_manager_export=new r;t.virtualElements.allowedBindings.nxkit_layout_manager_export=!0})(i.Knockout||(i.Knockout={}));var r=i.Knockout})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(i){(function(i){(function(i){var r=function(){function i(){}return i.prototype.init=function(i,r,u,f,e){var o=t.utils.extend(u(),{clickBubble:!1});t.bindingHandlers.click.init(i,function(){return function(){setTimeout(function(){var t=r();t&&n("#"+t).modal("show")},5)}},u,f,e)},i}();i.ModalBindingHandler=r;t.bindingHandlers.nxkit_modal=new r})(i.Knockout||(i.Knockout={}));var r=i.Knockout})(i.Web||(i.Web={}));var r=i.Web}(i||(i={})),function(n){(function(n){(function(i){var r=function(){function i(){}return i.prototype.init=function(i,r,u,f,e){var o=new n.LayoutOptions(r()),s=e.createChildContext(o,null,null),h=s.createChildContext(f,null,null);return t.applyBindingsToDescendants(h,i),{controlsDescendantBindings:!0}},i}();i.OptionsBindingHandler=r;t.bindingHandlers.nxkit_layout=new r;t.virtualElements.allowedBindings.nxkit_layout=!0})(n.Knockout||(n.Knockout={}));var i=n.Knockout})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(n){(function(i){(function(r){var u=function(){function r(){}return r.prototype.init=function(n,i,u,f,e){return t.bindingHandlers.template.init(n,r.ConvertValueAccessor(i,f,e),u,f,e)},r.prototype.update=function(n,i,u,f,e){return t.bindingHandlers.template.update(n,r.ConvertValueAccessor(i,f,e),u,f,e)},r.ConvertValueAccessor=function(n,t,r){var u=this;return function(){return i.Log.Group("TemplateBindingHandler.ConvertValueAccessor",function(){var f,e,o;if(i.Log.Object({value:n(),viewModel:t}),f=u.GetTemplateViewModel(n,t,r),f==null||Object.getOwnPropertyNames(f).length==0)throw new Error("unknown viewModel");if(e=u.GetTemplateOptions(n,t,r),e==null||Object.getOwnPropertyNames(e).length==0)throw new Error("unknown template options");if(o=u.GetTemplateName(r,e),o==null)throw new Error("unknown template");return i.Log.Object({data:f,opts:e,name:o}),{data:f,name:o}})}},r.GetTemplateViewModel=function(n,r){var u=n();return u!=null&&t.unwrap(u)instanceof i.Node?u:u!=null&&u.data!=null?u.data:u!=null&&u.node!=null&&t.unwrap(u.node)instanceof i.Node?u.node:r},r.GetTemplateOptions=function(t,i,r){return n.Web.Util.GetLayoutManager(r).GetTemplateOptions_(t,i,r,{})},r.GetTemplateName=function(t,i){return n.Web.Util.GetLayoutManager(t).GetTemplateName(i)},r}();r.TemplateBindingHandler=u;t.bindingHandlers.nxkit_template=new u;t.virtualElements.allowedBindings.nxkit_template=!0})(i.Knockout||(i.Knockout={}));var r=i.Knockout})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(i){(function(i){(function(i){var r=function(){function i(){}return i.prototype.init=function(i,r){var u=r();n(i).toggle(t.utils.unwrapObservable(u));t.utils.unwrapObservable(u)?n(i).slideDown():n(i).slideUp()},i.prototype.update=function(i,r){var u=r();t.utils.unwrapObservable(u)?n(i).slideDown():n(i).slideUp()},i}();i.VisibleBindingHandler=r;t.bindingHandlers.nxkit_visible=new r;t.virtualElements.allowedBindings.nxkit_visible=!0})(i.Knockout||(i.Knockout={}));var r=i.Knockout})(i.Web||(i.Web={}));var r=i.Web}(i||(i={})),function(n){(function(n){var i=function(){function i(n){this._args=n}return i.GetArgs=function(r){for(var f={},e=n.Util.GetContextItems(r),u=0;u<e.length;u++)e[u]instanceof i&&(f=t.utils.extend(f,e[u]));return f},Object.defineProperty(i.prototype,"Args",{get:function(){return this._args},enumerable:!0,configurable:!0}),i}();n.LayoutOptions=i})(n.Web||(n.Web={}));var i=n.Web}(i||(i={})),function(n){(function(n){var t=function(){function n(){}return n.Group=function(t,i){typeof console.group=="function"&&n.Verbose&&console.group(t);var r=i!=null?i():null;return n.Verbose&&console.dir(r),typeof console.groupEnd=="function"&&n.Verbose&&console.groupEnd(),r},n.Debug=function(t){for(var r=[],i=0;i<arguments.length-1;i++)r[i]=arguments[i+1];n.Verbose&&console.debug(t,r)},n.Object=function(t){for(var r=[],i=0;i<arguments.length-1;i++)r[i]=arguments[i+1];n.Verbose&&console.dir(t,r)},n.Verbose=!1,n}();n.Log=t})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(n){(function(n){var t=function(){function n(n,t){var i=this;this._severity=n;this._text=t}return Object.defineProperty(n.prototype,"Severity",{get:function(){return this._severity},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Text",{get:function(){return this._text},enumerable:!0,configurable:!0}),n}();n.Message=t})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(n){(function(n){var t=function(){function n(n){this._value=n}return n.Parse=function(t){switch(t.toLowerCase()){case"text":return n.Text;case"element":return n.Element}return n.Object},n.prototype.ToString=function(){return this._value},n.Object=new n("object"),n.Text=new n("text"),n.Element=new n("element"),n}();n.NodeType=t})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(n){(function(n){var t=function(){function t(t,i){var r=this;if(t==null)throw new Error("context: null");if(!(i instanceof n.Node))throw new Error("node: null");r._context=t;r._node=i}return Object.defineProperty(t.prototype,"Context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Contents",{get:function(){return this.GetContents()},enumerable:!0,configurable:!0}),t.prototype.GetContents=function(){try{return n.ViewModelUtil.GetContents(this.Node)}catch(t){t.message='NodeViewModel.GetContents()"\nMessage: '+t.message;throw t;}},Object.defineProperty(t.prototype,"ContentsCount",{get:function(){return this.Contents.length},enumerable:!0,configurable:!0}),t}();n.NodeViewModel=t})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(n){(function(n){var t=function(){function n(){}return n}();n.PropertyMap=t})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(n){(function(n){(function(n){n[n.Verbose=1]="Verbose";n[n.Information=2]="Information";n[n.Warning=3]="Warning";n[n.Error=4]="Error"})(n.Severity||(n.Severity={}));var t=n.Severity})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),function(t){(function(t){var i=function(){function i(n){this._executor=new t.DeferredExecutor;var i=this;i._baseUrl=n}return i.prototype.Register=function(t){var i=this;i._executor.Register(function(r){n(document).ready(function(){var u=n("body>*[nx-template-container]"),f;u.length==0&&(u=n(document.createElement("div")).attr("nx-template-container","").css("display","none").prependTo("body"));f=n(document.createElement("div")).attr("nx-template-url",i._baseUrl+t).load(i._baseUrl+t,function(){n(u).append(f);r.resolve()})})})},i.prototype.Wait=function(n){var t=this;t._executor.Wait(n)},i}();t.TemplateManager=i;i.Default=new i("/Content/");i.Default.Register("nxkit.html")})(t.Web||(t.Web={}));var i=t.Web}(i||(i={})),function(i){(function(i){var r=function(){function r(n,r){var u=this;u._server=r;u._body=n;u._save=null;u._hash=null;u._root=null;u._bind=!0;u._messages=i.Util.ObservableArray();u._threshold=3;u._queue=[];u._queueRunning=!1;u._busy=t.observable(!1)}return Object.defineProperty(r.prototype,"Busy",{get:function(){return this._busy},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"Body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"Data",{get:function(){return{Save:this._save,Hash:this._hash}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"Root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"Messages",{get:function(){return this._messages},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"Threshold",{get:function(){return this._threshold},set:function(n){this._threshold=n},enumerable:!0,configurable:!0}),r.prototype.Receive=function(n){var t=this,i;t._save=n.Save||t._save;t._hash=n.Hash||t._hash;i=n.Data||null;i!=null&&t.ReceiveData(i)},r.prototype.ReceiveData=function(n){var t=this;n!=null&&t.Apply(n.Node||null)},r.prototype.AppendMessages=function(n){for(var r,f,u=this,t=0;t<n.length;t++)r=i.Severity[n[t].Severity],f=n[t].Text||"",r>=u._threshold&&u._messages.push(new i.Message(r,f))},r.prototype.ExecuteScripts=function(scripts){for(var script,i=0;i<scripts.length;i++)script=scripts[i],script!=null&&eval(script)},r.prototype.RemoveMessage=function(n){this._messages.remove(n)},r.prototype.Apply=function(n){var t=this;t._root==null?t._root=new i.Node(t,n):t._root.Apply(n);t.ApplyBindings()},r.prototype.PushUpdate=function(n,t,r,u){var e=this,f;i.Log.Debug("View.PushUpdate");f={Action:"Update",Args:{NodeId:n.Id,Interface:t.Name,Property:r.Name,Value:u}};e.Queue(f)},r.prototype.PushInvoke=function(n,t,r,u){var e=this,f;i.Log.Debug("View.PushInvoke");f={Action:"Invoke",Args:{NodeId:n.Id,Interface:t,Method:r,Params:u}};e.Queue(f)},r.prototype.Queue=function(n){var r=this,t=this,i;(t._queue.push(n),t._queueRunning)||(t._queueRunning=!0,i={},setTimeout(function(){t._busy(!0);var n=function(){var u=t._queue.splice(0),f=function(e){var s,h,c,o;if(e.Code==200)s=e.Save||null,s!=null&&(r._save=s),h=e.Hash||null,h!=null&&(r._hash=h),c=e.Data||null,c!=null&&(i=c.Node||null,t._queue.length==0&&t.ReceiveData({Node:i})),n();else if(e.Code==500)t._server({Save:t._save,Hash:t._hash,Commands:u},f);else if(e.Code==501)for(o=0;o<e.Errors.length;o++)throw new Error(e.Errors[o].Message||"");else throw new Error("unexpected response code");};u.length>0?t._server({Hash:t._hash,Commands:u},f):(t._queueRunning=!1,t._busy(!1))};n()},50))},r.prototype.ApplyBindings=function(){var r=this;r._bind&&r._body!=null&&r._root!=null&&(t.cleanNode(r._body),i.TemplateManager.Default.Wait(function(){n(r._body).attr("data-bind","template: { name: 'NXKit.View' }");t.applyBindings(r,r._body);r._bind=!1}))},r}();i.View=r})(i.Web||(i.Web={}));var r=i.Web}(i||(i={})),function(n){(function(n){(function(t){function s(t){return t.Type==n.NodeType.Text&&(t.Value()||"").trim()===""}function i(n){return n==null||s(n)}function f(n){return!i(n)&&t.GroupNodes.some(function(t){return n.Name==t})}function h(n){return n.some(function(n){return f(n)})}function c(n){return n.filter(function(n){return f(n)})}function r(n){return!i(n)&&t.ControlNodes.some(function(t){return n.Name==t})}function l(n){return n.some(function(n){return r(n)})}function a(n){return n.filter(function(n){return r(n)})}function u(n){return!i(n)&&t.MetadataNodes.some(function(t){return n.Name==t})}function v(n){return n.some(function(n){return u(n)})}function y(n){return n.filter(function(n){return u(n)})}function e(n){return i(n)||t.TransparentNodePredicates.some(function(t){return t(n)})}function p(n){return n.some(function(n){return e(n)})}function w(n){return n.filter(function(n){return r(n)})}function o(n){var s,i,r,t,h,f;try{for(s=n.filter(function(n){return!u(n)}),i=[],r=0;r<s.length;r++){if(t=s[r],t==null)throw new Error("ViewModelUtil.GetContentNodes(): prospective Node is null");if(e(t))for(h=o(t.Nodes()),f=0;f<h.length;f++)i.push(h[f]);else i.push(t)}return i}catch(c){c.message='ViewModelUtil.GetContentNodes()"\nMessage: '+c.message;throw c;}}function b(n){try{return o(n.Nodes())}catch(t){t.message='ViewModelUtil.GetContents()"\nMessage: '+t.message;throw t;}}t.LayoutManagers=[function(t){return new n.DefaultLayoutManager(t)}];t.GroupNodes=[];t.ControlNodes=[];t.MetadataNodes=[];t.TransparentNodes=[];t.TransparentNodePredicates=[function(n){return t.TransparentNodes.some(function(t){return t===n.Name})}];t.IsEmptyTextNode=s;t.IsIgnoredNode=i;t.IsGroupNode=f;t.HasGroupNode=h;t.GetGroupNodes=c;t.IsControlNode=r;t.HasControlNode=l;t.GetControlNodes=a;t.IsMetadataNode=u;t.HasMetadataNode=v;t.GetMetadataNodes=y;t.IsTransparentNode=e;t.HasTransparentNode=p;t.GetTransparentNodes=w;t.GetContentNodes=o;t.GetContents=b})(n.ViewModelUtil||(n.ViewModelUtil={}));var t=n.ViewModelUtil})(n.Web||(n.Web={}));var t=n.Web}(i||(i={})),window.NXKit=i,i};if(typeof define=="function"&&define.amd)define("nxkit",["jquery","knockout"],function(n,t){return ___init_nxkit___(n,t)});else if(typeof $=="function"&&typeof ko=="object")___init_nxkit___($,ko);else throw new Error("RequireJS missing or jQuery and knockout missing.");
/*
//# sourceMappingURL=nxkit.min.js.map
*/